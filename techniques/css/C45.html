<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<title>Using CSS :focus-visible to provide keyboard focus indication</title>
		<link rel="stylesheet" type="text/css" href="../../css/editors.css"/>
	</head>
	<body>
		<h1>Using <abbr title="Cascading Style Sheets">CSS</abbr> <code class="language-css">:focus-visible</code> to provide keyboard focus indication</h1>
		<section id="meta">
			<h2>Metadata</h2>
			<p id="id"></p>
			<p id="technology">CSS</p>
			<p id="type"></p>
		</section>
		<section id="applicability">
			<h2>When to Use</h2>
			<p>All technologies that support CSS.</p>
		</section>
		<section id="description">
			<h2>Description</h2>
			<p>The objective of this technique is to provide custom styles for interactive elements when they receive keyboard focus. In this example, this is achieved using the CSS <code class="language-css">:focus-visible</code> pseudo-class.</p>
      <p>Styles defined with the regular <code class="language-css">:focus</code> pseudo-class are applied whenever an element has focus, regardless of how it received focus. In contrast, user agents apply additional heuristics and logic to decide when to show <code class="language-css">:focus-visible</code> styles – in particular, browsers always show these styles when a user is navigating using the keyboard, but will generally <em>not</em> show them as a result of a mouse/pointer interaction (with the exception of elements that also support keyboard input, such as <code>&lt;input&gt;</code> elements). This allows authors to provide strong visible focus indication for keyboard users, without forcing them on mouse/pointer users who may not necessarily want or need them (for instance, because they find them visually distracting).</p>
			<p>This satisfies the requirement of providing a <q>mode of operation where the keyboard focus indicator is visible</q>.</p>
			<div class="note">
				<p>This technique is only sufficient <em>if</em> it uses styles that provide a <em>visible</em> focus indicator.</p>
			</div>
			<div class="note">
				<p>There may be situations where mouse/pointer users could also benefit from having a visible focus indicator, even though they did not set focus to an element using the keyboard. As a best practice, consider still providing an explicit <code class="language-css">:focus</code> style for these cases.</p>
      </div>
		</section>
		<section id="examples">
			<h2>Examples</h2>
			<section class="example">
				<h3>Using <abbr title="Cascading Style Sheets">CSS</abbr> <code class="language-css">:focus-visible</code> to provide keyboard focus indication</h3>
				<p>In this example, we have a standard <code>&lt;button&gt;</code> control in the HTML.</p>
        <p>By default, in all modern browsers, this button does not show any focus indication when activated using a mouse/pointer. Browsers show their default focus outline/indication when a user sets focus on the button using <kbd>Tab</kbd>.</p>
        <p>In order to make this focus indication more prominent, we use the <code class="language-css">:focus-visible</code> pseudo-class selector to define a more intentional and pronounced focus style.</p>
				<p>Working example: <a href="../../working-examples/css-focus-visible/">Using CSS <code class="language-css">:focus-visible</code> to provide keyboard focus indication</a>.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;meta name="viewport" content="width=device-width,
              initial-scale=1, shrink-to-fit=no"&gt;
  &lt;title&gt;Using CSS :focus-visible to
         provide keyboard focus indication&lt;/title&gt;
  &lt;style&gt;
    /* Specific :focus-visible styles */

    :focus-visible {
      outline: 5px solid red;
    }
    …
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  …
  &lt;button&gt;Example button&lt;/button&gt;
  …
&lt;/body&gt;
&lt;/html&gt;</code></pre>
			</section>      
		</section>
		<section id="tests">
			<h2>Tests</h2>
			<section class="test-procedure">
				<h3>Procedure</h3>
				<p>For each user interface component that can receive keyboard focus:</p>
				<ol>
					<li>Set focus to the interface component using the keyboard (generally, navigating to the component using <kbd>Tab</kbd>/<kbd>Shift+Tab</kbd>)</li>
          <li>Verify that once the component has received focus, a focus indicator is visible</li>
				</ol>
			</section>
			<section class="test-results">
				<h3>Expected Results</h3>
				<ul>
					<li>Check #2 is true.</li>
				</ul>
			</section>
		</section>
		<section id="related">
			<h2>Related Techniques</h2>
			<ol>
				<li><a href="C15">C15</a></li>
				<li><a href="../general/G165">G165</a></li>
        <li><a href="../general/G195">G195</a></li>
        <li><a href="C40">C40</a></li>
			</ol>
		</section>
		<section id="resources">
			<h2>Resources</h2>
			<ol>
				<li><a href="https://www.w3.org/TR/selectors-4/#the-focus-visible-pseudo">CSS Selectors Level 4 - <code class="language-css">:focus-visible</code> pseudo-class</a>.</li>
				<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:focus-visible"><abbr title="Mozilla Developer Network">MDN</abbr> - <code class="language-css">:focus-visible</code> pseudo-class</a>.</li>
			</ol>
		</section>
	</body>
</html>
