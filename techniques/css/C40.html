<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<title>Creating a two-color focus indicator to ensure sufficient contrast with all components</title>
		<link rel="stylesheet" type="text/css" href="../../css/editors.css"/>
	</head>
	<body>
		<h1>Creating a two-color focus indicator to ensure sufficient contrast with all components</h1>
		<section id="meta">
			<h2>Metadata</h2>
			<p id="id"></p>
			<p id="technology">CSS</p>
			<p id="type"></p>
		</section>
		<section id="applicability">
			<h2>When to Use</h2>
			<p><abbr title="Cascading Style Sheets">CSS</abbr>.</p>
		</section>
		<section id="description">
			<h2>Description</h2>
			<p>The objective of this technique is to create a two-color focus indicator that has sufficient contrast against any solid background color. This technique can avoid the need for multiple classes to ensure sufficient contrast of the focus indicator when viewed against different backgrounds.</p>

			<p>Authors may apply this technique to sites that use a variety of different colored backgrounds. Although it is possible to create different colored focus indicators for different parts of a page, this can be time consuming and it can be easy to miss some components. However, if the focus indicator uses two highly-contrasting colors - a light color and a dark color - then the same indicator can be re-used, since at least one of the two colors will always have enough contrast against any background color.</p>

			<p>As long as the two indicator colors have a contrast ratio of at least 9:1 with each other, at least one of the two colors is guaranteed to meet 3:1 contrast with any solid background color.</p>

			<p class="note">This technique only guarantees that an indicator will pass if the entire indicator is drawn over the background, not within the boundary of the focused component, and if the entire background behind the indicator is one single, solid color. For example, if the background is an image or gradient, or if the indicator is partially overlaid on top of a different UI component, it may still be necessary to compare the indicator pixel-by-pixel against the background.</p>

			<p>In CSS, two-color indicators can be implemented by combining the <code class="language-css">outline</code> and <code class="language-css">box-shadow</code> properties with the <code class="language-css">:focus</code> or <code class="language-css">:focus-visible</code> pseudo-classes.</p>

			<p class="note">Avoid setting <code class="language-css">outline: none</code> to use <code class="language-css">box-shadow</code> on its own. User agents commonly suppress the <code class="language-css">box-shadow</code> property in forced-color modes, so authors should avoid relying on <code class="language-css">box-shadow</code> alone to implement focus indicators. If <code class="language-css">box-shadow</code> only styling is required, consider combining it with an <code class="language-css">outline: 2px transparent solid</code> property to ensure compatibility with forced-color modes.</p>
		</section>
		<section id="examples">
			<h2>Examples</h2>
			<p>This example demonstrates a simple implementation where focus styles are applied to all focusable components. In use on a more complex website care would need to be taken that these styles are not overridden by more specific styles.</p>

			<section class="example">
				<h3>A thick two-color indicator</h3>
				<p>In this example, the indicator consists of two solid bands of color. Because each color band is 2 CSS pixels thick, either color band is large enough to meet the minimum indicator size requirement on its own. As long as one of the two colors has 3:1 change contrast with the pixels behind and around the focus indicator, the indicator will satisfy both the Focus Appearance and Non-Text Contrast success criteria.</p>
				<pre xml:space="preserve"><code class="language-css">*:focus {
	/* inner indicator */
	outline: 2px #F9F9F9 solid;
	outline-offset: 0;
	/* outer indicator */
	box-shadow: 0 0 0 4px #193146;
}</code></pre>
				<p class="working-example"><a href="../../working-examples/css-two-focus-colors/">Working example of a thick two-color indicator</a></p>
			</section>
		</section>
		<section id="tests">
			<h2>Tests</h2>
			
			<section class="test-procedure">
				<h3>Procedure</h3>
				<p>For each focusable user interface component:</p>
				<ol>
					<li>Check that the two colors in the focus indicator have a contrast ratio that is 9:1 or greater with each other.</li>
					<li>Check that each color band is at least 2 CSS pixels thick.</li>
					<li>Check that the indicator only appears overtop one solid background color at a time.</li>
				</ol>
			</section>
			<section class="test-results">
				<h3>Expected Results</h3>
				<ul>
					<li>#1, #2, and #3 are true.</li>
				</ul>
			</section>
		</section>
		<section id="related">
			<h2>Related Techniques</h2>
			<ul>
				<li><a href="../general/G149">G149</a></li>
				<li><a href="../general/G195">G195</a></li>
				<li><a href="C15">C15</a></li>
				<li><a href="../general/G165">G165</a></li>
        <li><a href="C45">C45</a></li>
			</ul>
		</section>
		<section id="resources">
			<h2>Resources</h2>
			<ul>
				<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:focus-visible">The <code class="language-css">:focus-visible</code> pseudo-class on the Mozilla Developer Network</a></li>
				<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:focus">The <code class="language-css">:focus</code> pseudo-class on the Mozilla Developer Network</a></li>
			</ul>
		</section>
	</body>
</html>
