<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Reordering page sections using the Document Object Model</title>
    <link rel="stylesheet" type="text/css" href="../../css/editors.css" class="remove">
  </head>
  <body>
    <h1>Reordering page sections using the Document Object Model</h1>
    <section class="meta">
      <p class="id">ID: SCR27</p>
      <p class="technology">Technology: client-side-script</p>
      <p class="type">Type: Technique</p>
    </section>
    <section id="applicability">
      <h2>When to Use</h2>
      <p><abbr title="HyperText Markup Language">HTML</abbr>, script</p>
    </section>
    <section id="description">
      <h2>Description</h2>
      <p>The objective of this technique is to provide a mechanism for re-ordering component which is both highly usable and accessible. The two most common mechanisms for reordering are to send users to a set-up page where they can number components, or to allow them to drag and drop components to the desired location. The drag and drop method is much more usable, as it allows the user to arrange the items in place, one at a time, and get a feeling for the results. Unfortunately, drag and drop relies on the use of a mouse. This technique allows users to interact with a menu on the components to reorder them in place in a device independent way. It can be used in place of, or in conjunction with drag and drop reordering functionality.</p>
      <p>The menu is a list of links using the device-independent onclick event to trigger scripts which re-order the content. The content is re-ordered in the Document Object Model (DOM), not just visually, so that it is in the correct order for all devices. </p>
   </section><section id="examples"><h2>Examples</h2>
      <section class="example">
        <p>This example does up and down reordering. This approach can also be used for two-dimensional reordering by adding left and right options.</p>
        <p>The components in this example are list items in an unordered list. Unordered lists are a very good semantic model for sets of similar items. The menu approach can also be used for other types of groupings.</p>
        <p>In this example, the menu is always visible. This is a good approach for components that are not too numerous, as it allows users to see the options without having to open a menu.</p>

<pre><code class="language-javascript">const list = document.getElementById('myList');

// Attach a single event listener to the whole list
list.addEventListener('click', function (e) {
    
  // Ensure the click came from a button
  if (e.target.tagName !== 'BUTTON') return;

  // Get the &lt;li&gt that contains the clicked button
  const li = e.target.closest('li');

  // Move up: insert the clicked &lt;li&gt before its previous sibling
  if (e.target.classList.contains('up') && li.previousElementSibling) {
    li.parentNode.insertBefore(li, li.previousElementSibling);
  }

  // Move down: insert the next sibling before the clicked &lt;li&gt
  if (e.target.classList.contains('down') && li.nextElementSibling) {
    li.parentNode.insertBefore(li.nextElementSibling, li);
  }
});</code></pre>
   </section>
   Working example of this code: <a href="../working-examples/script-reorder-list-buttons/"><!--file included in commit-->Reorder list with buttons</a>
   <section id="tests">
    <h2>Tests</h2>
    <section class="procedure">
      <h3>Procedure</h3>
      <ol>
        <li>Find all components which can be reordered via drag and drop.</li>
        <li>Check that there is also a mechanism to reorder them using menus containing buttons, or other appropriate controls.</li>
        <li>Check that the menus are contained within the re-orderable items in the DOM.</li>
        <li>Check that scripts for reordering are triggered only from the onclick event of the menu controls.</li>
        <li>Check that items are reordered in the DOM, not only visually.</li>
      </ol>
    </section>
    <section class="results">
      <h3>Expected Results</h3>
      <ul>
        <li>#2 through #5 are true.</li>
      </ul>
    </section>
  </section>

</body>
</html>