<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<title>Using role=status to present status messages</title>
		<link rel="stylesheet" type="text/css" href="../../css/editors.css"/>
	</head>
	<body>
		<h1>Using <code class="language-html">role=status</code> to present status messages</h1>
		<section id="meta">
			<h2>Metadata</h2>
			<p class="id">ID: W##</p>
			<p class="technology">Technology: ARIA</p>
			<p class="type">Type: Technique</p>
		</section>
		<section id="applicability">
			<h2>When to Use</h2>
		</section>
		<section id="description">
			<h2>Description</h2>
			<p>
				This technique uses the <code>status</code> role from the ARIA specification to notify Assistive Technologies (AT) when content has been updated with information about the user's or application's status. This is done by adding <code>role="status"</code> to the element that contains the <a>status message</a>. The aria live region role of <code>status</code> has an implicit <code>aria-live</code> value of <code>polite</code>, which allows a user to be notified via AT (such as a screen reader) when status messages are added. The role of <code>status</code> also has a default <code>aria-atomic</code> value of <code>true</code>, so that updates to the container marked with a role of <code>status</code> will result in the AT presenting the entire contents of the container to the user, including any author-defined labels (or additional nested elements). Such additional context can be critical where the status message text alone will not provide an equivalent to the visual experience. The content of the aria-live container is automatically read by the AT, without the AT having to focus on the place where the text is displayed. See <a href="https://www.w3.org/TR/wai-aria/#status">WAI-ARIA status (role)</a> for more details.</p>
<p>Note that since <code>role="status"</code> is currently not treated as atomic by default in some environments, it is advisable to add an explicit <code>aria-atomic="true"</code> if the entire contents of the container should be announced.</p>
		</section>
		<section id="examples">
			<h2>Examples</h2>
			<section class="example">
				<h3>Including a search results message</h3>
				<p>After a user presses a Search button, the page content is updated to include the results of the search, which are displayed in a section below the Search button. The change to content also includes the message <samp>"5 results returned"</samp> near the top of this new content. This text is given an appropriate role for a status message. A screen reader will announce "5 results returned".</p>
<pre xml:space="preserve"><code class="language-html">&lt;div role="status" aria-atomic="true"&gt;5 results returned.&lt;/div&gt;</code></pre>
				<p class="working-example"><a href="../../working-examples/aria-role-status-searchresults/">Working example: role=status on search results</a></p>
			</section>
			<section class="example">
				<h3>Updating the shopping cart status</h3>
				<p>After a user presses an Add to Shopping Cart button, content near the Shopping Cart icon updates to read "1 items". The container for this text (in this case a <code class="language-html">&lt;p&gt;</code>) is marked with the role of <code class="language-html">status</code>. Because it adds visual context, the shopping cart image &#8212; with succinct and accurate <code class="language-html">alt</code> text &#8212; is also placed in the container. Due to the <code class="language-html">aria-atomic</code> value, a screen reader will announce "Shopping cart, six items".</p>
<pre xml:space="preserve"><code class="language-html">&lt;p role="status" aria-atomic="true"&gt;
  &lt;img src="shopping-cart.png" alt="Shopping Cart"&gt;
  &lt;span id="cart"&gt;0&lt;/span&gt; items
&lt;/p&gt;
</code>
</pre>
				<p class="working-example"><a href="../../working-examples/aria-role-status-shoppingcart/">Working example: role=status on a shopping cart</a></p>
			</section>
		</section>
		<section id="tests">
			<h2>Tests</h2>
			<section class="test-procedure">
				<h3>Procedure</h3>
				<p>For each <a>status message</a>:</p>
				<ol>
					<li>Check that the container destined to hold the status message has a <code class="language-html">role</code> attribute with a value of <code class="language-html">status</code> <em>before</em> the status message occurs.</li>
					<li>Check that when the status message is triggered, it is inside the container.</li>
					<li>Check that elements or attributes that provide information equivalent to the visual experience for the status message (such as a shopping cart image with proper <code class="language-html">alt</code> text) also reside in the container.</li>
				</ol>
			</section>
			<section class="test-results">
				<h3>Expected Results</h3>
				<ul>
					<li>#1, #2 and #3 are true.</li>
				</ul>
			</section>
		</section>
</body>
</html>
