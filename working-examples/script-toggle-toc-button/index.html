<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>SCR 28 Example: Toggle table of contents with a button</title>
<style>
#toc {
	border: 1px solid #aaa;
	background-color: #f9f9f9;
	padding: 5px;
	font-size: 95%;
	width: 10em;
	margin-top: 1em;
}
#toc h2 {
	display: inline;
	border: none;
	padding: 0;
	font-size: 100%;
	font-weight: bold;
}

[aria-expanded="false"] + nav{
  display:none;
}
</style>
<script>
  document.addEventListener("DOMContentLoaded", function(e){
    let tocToggle = document.querySelector(".toc-toggle");
    let toc = document.querySelector("#toc");
    tocToggle.addEventListener("click", toggle, false);
    
    function toggle(e){
      let elm = e.currentTarget;
      if(elm.getAttribute("aria-expanded") === "false"){
        elm.setAttribute("aria-expanded", "true");
      }
      else{
        elm.setAttribute("aria-expanded", "false");
      }
    }      
  });
</script>
</head>

<body>
  <h1>SCR28 Example: Toggle table of contents with a button</h1>
  <button aria-controls="toc" aria-expanded="true" class="toc-toggle" type="button">Toggle Table Of Contents</button>
  <nav aria-labelledby="toc-header" id="toc">
  <h2 id="toc-header">Table of Contents</h2>
    <ul>
        <li><a href="#sec1">Section 1</a></li>
        <li><a href="#sec2">Section 2</a></li>
        <li><a href="#sec3">Section 3</a></li>
        <li><a href="#sec4">Section 4</a></li>
    </ul>
  </nav>
  
<div id="maincontent">
<h2 id="sec1">Section 1</h2>
<p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nunc id odio ut tortor egestas fermentum. Pellentesque nunc. Nulla a massa id odio lobortis vestibulum. Etiam cursus augue eget lorem. Aliquam pretium nibh. Pellentesque elementum tempor nisi. Nulla ullamcorper, enim eu lacinia ornare, elit massa tempor risus, a lacinia dui dolor sed dolor. Praesent mollis, arcu sed auctor fringilla, sapien pede adipiscing nulla, sed sodales nunc mauris vel ligula. Aliquam convallis, magna in mollis venenatis, urna pede vestibulum leo, sit amet dignissim arcu tortor eget lectus. Aliquam erat volutpat. Etiam tempus egestas tellus. Mauris viverra ante in nisi. Nulla adipiscing nisl ut sem.</p>
<h2 id="sec2">Section 2</h2>
<p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nunc id odio ut tortor egestas fermentum. Pellentesque nunc. Nulla a massa id odio lobortis vestibulum. Etiam cursus augue eget lorem. Aliquam pretium nibh. Pellentesque elementum tempor nisi. Nulla ullamcorper, enim eu lacinia ornare, elit massa tempor risus, a lacinia dui dolor sed dolor. Praesent mollis, arcu sed auctor fringilla, sapien pede adipiscing nulla, sed sodales nunc mauris vel ligula. Aliquam convallis, magna in mollis venenatis, urna pede vestibulum leo, sit amet dignissim arcu tortor eget lectus. Aliquam erat volutpat. Etiam tempus egestas tellus. Mauris viverra ante in nisi. Nulla adipiscing nisl ut sem.</p>
<h2 id="sec3">Section 3</h2>
<p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nunc id odio ut tortor egestas fermentum. Pellentesque nunc. Nulla a massa id odio lobortis vestibulum. Etiam cursus augue eget lorem. Aliquam pretium nibh. Pellentesque elementum tempor nisi. Nulla ullamcorper, enim eu lacinia ornare, elit massa tempor risus, a lacinia dui dolor sed dolor. Praesent mollis, arcu sed auctor fringilla, sapien pede adipiscing nulla, sed sodales nunc mauris vel ligula. Aliquam convallis, magna in mollis venenatis, urna pede vestibulum leo, sit amet dignissim arcu tortor eget lectus. Aliquam erat volutpat. Etiam tempus egestas tellus. Mauris viverra ante in nisi. Nulla adipiscing nisl ut sem.</p>
<h2 id="sec4">Section 4</h2>
<p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nunc id odio ut tortor egestas fermentum. Pellentesque nunc. Nulla a massa id odio lobortis vestibulum. Etiam cursus augue eget lorem. Aliquam pretium nibh. Pellentesque elementum tempor nisi. Nulla ullamcorper, enim eu lacinia ornare, elit massa tempor risus, a lacinia dui dolor sed dolor. Praesent mollis, arcu sed auctor fringilla, sapien pede adipiscing nulla, sed sodales nunc mauris vel ligula. Aliquam convallis, magna in mollis venenatis, urna pede vestibulum leo, sit amet dignissim arcu tortor eget lectus. Aliquam erat volutpat. Etiam tempus egestas tellus. Mauris viverra ante in nisi. Nulla adipiscing nisl ut sem.</p>
</div>
</body>
</html>
