<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"><head><title>SVR3: Using HTTP referer to ensure that the only way to access non-conforming content is from conforming content | Techniques for WCAG 2.0
              </title><link rel="canonical" href="http://www.w3.org/TR/WCAG20-TECHS/SVR3.html"/><link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/2016/W3C-ED.css"/><link rel="stylesheet" type="text/css" href="additional.css"/><link rel="stylesheet" type="text/css" href="slicenav.css"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/></head><body class="slices toc-inline"><div id="masthead"><p class="logo"><a href="http://www.w3.org/"><img width="72" height="48" alt="W3C" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C"/></a></p><p class="collectiontitle"><a href="./">Techniques for WCAG 2.0</a></p></div><div id="skipnav"><p class="skipnav"><a href="#maincontent">Skip to Content (Press Enter)</a></p></div><a name="top"> </a><!-- TOP NAVIGATION BAR --><ul id="navigation"><li><strong><a href="Overview.html#contents" title="Table of Contents">Contents</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">Intro</abbr></a></strong></li><li><a title="SVR2: Using .htaccess to ensure that the only way to access non-conforming content is from conforming content" href="SVR2.html"><strong>Previous: </strong>
        Technique SVR2</a></li><li><a title="SVR4: Allowing users to provide preferences for the display of conforming alternate versions" href="SVR4.html"><strong>Next: </strong>
        Technique SVR4</a></li></ul><div class="navtoc"><p>On this page:</p><ul id="navbar"><li><a href="#SVR3-disclaimer">Important Information about Techniques</a></li><li><a href="#SVR3-applicability">Applicability</a></li><li><a href="#SVR3-description">Description</a></li><li><a href="#SVR3-examples">Examples</a></li><li><a href="#SVR3-related-techs">Related Techniques</a></li><li><a href="#SVR3-tests">Tests</a></li></ul></div><div class="skiptarget"><a id="maincontent">-</a></div> <h1><a name="SVR3" id="SVR3"> </a>SVR3: Using HTTP referer to ensure that the only way to access non-conforming content is from conforming content</h1><div id="SVR3-disclaimer"><h2>Important Information about Techniques</h2><p>See <a href="http://www.w3.org/TR/2016/NOTE-UNDERSTANDING-WCAG20-20160317/understanding-techniques.html">Understanding Techniques for WCAG Success Criteria</a> for important information about the usage of these informative techniques and how they relate to the normative WCAG 2.0 success criteria. The Applicability section explains the scope of the technique, and the presence of techniques for a specific technology does not imply that the technology can be used in all situations to create content that meets WCAG 2.0.</p></div><div class="applicability"><h2 id="SVR3-applicability">Applicability</h2><div class="textbody"><p>Content created using server-side scripting where a conforming version of content is provided as an alternative to a non-conforming version based on HTTP Referer.</p></div></div><p class="referenced">This technique relates to:</p><ul><li><a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#cc1">
					Conformance Requirement 1 (Conformance Level)
				</a></li></ul><div class="ua-issues"><h2 class="small-head" id="ua5.3.1"> User Agent and Assistive Technology Support Notes</h2><p>See <a href="/WAI/WCAG20/Techniques/ua-notes/server-side-script#SVR3">User Agent Support Notes for SVR3</a>.</p></div><h2 id="SVR3-description">Description</h2><div class="textbody"><p>The objective of this technique is to ensure that users can obtain an accessible version of content where both non-conforming and conforming versions are provided.</p><p>
         <a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#cc1" class="gl-ref">Conformance Requirement 1</a> allows non-conforming pages to be included within the scope of conformance as long as they have a "<a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#conforming-alternate-versiondef" class="gl-ref">conforming alternate version</a>". It is not always possible for authors to include accessibility supported links to conforming content from within non-conforming content. Therefore, authors may need to rely on the use of Server Side Scripting technologies (ex. PHP, ASP, JSP) to ensure that the non-conforming version can only be reached from a conforming page.</p><p>This technique describes how to use information provided by the <code>HTTP referer</code> to ensure that non-conforming content can only be reached from a conforming page. The <code>HTTP referer</code> header is set by the user agent and contains the URI of the page (if any) which referred the user agent to the non-conforming page.</p><p>To implement this technique, an author identifies the URI for the conforming version of the content, for each non-conforming page. When a request for the non-conforming version of a page is received, the server compares the value of the <code>HTTP referer</code> header against the URI of the conforming version to determine whether the link to the non-conforming version came from the conforming version. The non-conforming version is only served if the <code>HTTP referer</code> matches the URI of the non-conforming version. Otherwise, the user is redirected to the conforming version of the content. Note that when comparing the URI in the HTTP referer header, non-relevant variations in the URI, such as in the query and target, should be taken into account.</p></div><h2 class="small-head" id="SVR3-examples">Examples</h2><h3 class="small-head" id="SVR3-ex1">Example 1: Interactive demonstrations of physical processes</h3><div class="example"><div class="textbody"><p>An online physics course uses a proprietary modeling language to provide interactive demonstrations of physical processes. The user agent for the modeling language is not compatible with assistive technology. The site includes a script that uses the HTTP referer to ensure that unless users attempt to access the interactive demonstration from a page that contains a conforming description of the process and models, the server redirects the request to a conforming page which contains a link to the non-conforming version. Students may choose to access the non-conforming, interactive version, but those who do not are still able to learn about the process.</p></div></div><h3 class="small-head" id="SVR3-ex2">Example 2: Using Http referer in PHP</h3><div class="example"><div class="textbody"><p>The following example illustrates how this technique can be used in PHP. It includes two files, conforming.php and non-conforming.php which work together to ensure that the only way to access non-conforming content is from conforming content.</p><p>conforming.php:</p></div><div class="code"><p><strong>Example Code:</strong></p><pre><code>
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
	&lt;head&gt;
    		&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
    		&lt;title&gt;Conforming Content&lt;/title&gt;
    	&lt;/head&gt;
	&lt;body&gt;
		&lt;h1&gt;This is a conforming page&lt;/h1&gt;
		&lt;p&gt;From here, you can visit the &lt;a href="non-conforming.php"&gt;non-conforming 
		page&lt;/a&gt;. &lt;/p&gt;
	&lt;/body&gt;
&lt;/html&gt;
    				</code></pre></div><div class="textbody"><p>non-conforming.php:</p></div><div class="code"><p><strong>Example Code:</strong></p><pre><code>
&lt;?php 
// if the request comes from a file that contains the string "conforming.php" then render the page
	if(stristr($_SERVER['HTTP_REFERER'], "conforming.php")) {
?&gt;

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
	&lt;head&gt;
		&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
		&lt;title&gt;Non-Conforming Content&lt;/title&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;h1&gt;This is a non-conforming page&lt;/h1&gt;
		&lt;p&gt;Because you came from &lt;?php echo $_SERVER['HTTP_REFERER']; ?&gt;, you are 
			able to view the content on this page. &lt;/p&gt;
	&lt;/body&gt;
&lt;/html&gt;
&lt;?php
}
// if the referring page is not conforming.php, then redirect the user to the conforming version
else  {
header("Location: conforming.php");
}
?&gt;					
    				</code></pre></div><div class="textbody"><p>A working example, <a href="/WAI/WCAG20/Techniques/working-examples/SVR3/non-conforming.php" class="ex-ref">Conforming content</a>, is available.</p></div></div><h2 id="SVR3-related-techs">Related Techniques</h2><div class="textbody"><ul><li><a href="G136.html">G136: Providing a link at the beginning of a nonconforming Web page that points to a conforming alternate version</a></li><li><a href="G190.html">G190: Providing a link adjacent to or associated with a non-conforming object that links to a conforming alternate version</a></li><li><a href="SVR2.html">SVR2: Using .htaccess to ensure that the only way to access non-conforming content is from conforming content</a></li><li><a href="SVR4.html">SVR4: Allowing users to provide preferences for the display of conforming alternate versions</a></li><li><a href="C29.html">C29: Using a style switcher to provide a conforming alternate version</a></li></ul></div><h2 id="SVR3-tests">Tests</h2><div class="textbody"><h3 class="small-head" id="SVR3-procedure">Procedure</h3><p>Where WCAG-conforming alternatives are provided for non-conforming content:</p><ol class="enumar"><li><p>Identify pages that do not conform to WCAG at the conformance Level claimed where accessible alternatives are served based on HTTP Referrer.</p></li><li><p>Visit the URI of the non-conforming content.</p></li><li><p>Verify that the resulting page is one of the following:</p><ol class="enumla"><li><p>a <a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#conforming-alternate-versiondef" class="gl-ref">conforming alternate version</a> for the non-conforming content</p></li><li><p>a page that includes a link to both the conforming alternate version and the non-conforming content</p></li></ol></li></ol><h3 class="small-head" id="SVR3-results">Expected Results</h3><ul><li><p>Check #3.1 or #3.2 is true.</p></li></ul><p>If this is a sufficient technique for a success criterion, failing this test procedure does not necessarily mean that the success criterion has not been satisfied in some other way, only that this technique has not been successfully implemented and can not be used to claim conformance.</p></div><!-- BOTTOM NAVIGATION BAR --><ul id="navigationbottom"><li><strong><a href="#top">Top</a></strong></li><li><strong><a href="Overview.html#contents" title="Table of Contents">Contents</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">Intro</abbr></a></strong></li><li><a title="SVR2: Using .htaccess to ensure that the only way to access non-conforming content is from conforming content" href="SVR2.html"><strong>Previous: </strong>
        Technique SVR2</a></li><li><a title="SVR4: Allowing users to provide preferences for the display of conforming alternate versions" href="SVR4.html"><strong>Next: </strong>
        Technique SVR4</a></li></ul><div class="footer"><p class="copyright">This Web page is part of <a href="Overview.html">Techniques and Failures for Web Content Accessibility Guidelines 2.0</a> (see the <a href="http://www.w3.org/TR/WCAG20-TECHS/SVR3.html">latest version of this document</a>). The entire document is also available as a <a href="complete.html">single HTML file</a>. See the <a href="http://www.w3.org/WAI/intro/wcag20">The WCAG 2.0 Documents</a> for an explanation of how this document fits in with other Web Content Accessibility Guidelines (WCAG) 2.0 documents. To send public comments, please follow the <a href="http://www.w3.org/WAI/WCAG20/comments/">Instructions for Commenting on WCAG 2.0 Documents</a>.
 </p><p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p></div></body></html>