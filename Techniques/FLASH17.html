<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"><head><title>FLASH17: Providing keyboard access to a Flash object and avoiding a keyboard trap | Techniques for WCAG 2.0
              </title><link rel="canonical" href="http://www.w3.org/WAI/GL/WCAG20-TECHS/FLASH17.html"/><link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/2016/W3C-ED.css"/><link rel="stylesheet" type="text/css" href="additional.css"/><link rel="stylesheet" type="text/css" href="slicenav.css"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/></head><body class="slices toc-inline"><div id="masthead"><p class="logo"><a href="http://www.w3.org/"><img width="72" height="48" alt="W3C" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C"/></a></p><p class="collectiontitle"><a href="./">Techniques for WCAG 2.0</a></p></div><div id="skipnav"><p class="skipnav"><a href="#maincontent">Skip to Content (Press Enter)</a></p></div><a name="top"> </a><!-- TOP NAVIGATION BAR --><ul id="navigation"><li><strong><a href="Overview.html#contents" title="Table of Contents">Contents</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">Intro</abbr></a></strong></li><li><a title="FLASH16: Making actions keyboard accessible by using the click event on standard components" href="FLASH16.html"><strong>Previous: </strong>
        Technique FLASH16</a></li><li><a title="FLASH18: Providing a control to turn off sounds that play automatically in Flash" href="FLASH18.html"><strong>Next: </strong>
        Technique FLASH18</a></li></ul><div class="navtoc"><p>On this page:</p><ul id="navbar"><li><a href="#FLASH17-disclaimer">Important Information about Techniques</a></li><li><a href="#FLASH17-applicability">Applicability</a></li><li><a href="#FLASH17-description">Description</a></li><li><a href="#FLASH17-examples">Examples</a></li><li><a href="#FLASH17-resources">Resources</a></li><li><a href="#FLASH17-tests">Tests</a></li><li><a href="#FLASH17-info">Technique Information</a></li></ul></div><div class="skiptarget"><a id="maincontent">-</a></div> <h1><a name="FLASH17" id="FLASH17"> </a>FLASH17: Providing keyboard access to a Flash object and avoiding a keyboard trap</h1><div id="FLASH17-disclaimer"><h2>Important Information about Techniques</h2><p>See <a href="http://www.w3.org/WAI/GL/2016/WD-UNDERSTANDING-WCAG20-20160719/understanding-techniques.html">Understanding Techniques for WCAG Success Criteria</a> for important information about the usage of these informative techniques and how they relate to the normative WCAG 2.0 success criteria. The Applicability section explains the scope of the technique, and the presence of techniques for a specific technology does not imply that the technology can be used in all situations to create content that meets WCAG 2.0.</p></div><div class="applicability"><h2 id="FLASH17-applicability">Applicability</h2><div class="textbody"><ul><li><p>Adobe Flash Professional version MX and higher </p></li><li><p>Adobe Flex</p></li></ul></div></div><p class="referenced">This technique relates to:</p><ul><li><a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#keyboard-operation-keyboard-operable">
				Success Criterion 2.1.1 (Keyboard)</a><ul><li><a href="http://www.w3.org/WAI/WCAG20/quickref/20160105/#keyboard-operation-keyboard-operable">
						How to Meet 2.1.1 (Keyboard)
					</a></li><li><a href="http://www.w3.org/WAI/GL/2016/WD-UNDERSTANDING-WCAG20-20160719/keyboard-operation-keyboard-operable.html">
						Understanding Success Criterion 2.1.1 (Keyboard)
					</a></li></ul><div class="note"><p class="prefix"><em>Note:</em> This technique must be combined with other techniques to meet <a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#keyboard-operation-keyboard-operable">SC 2.1.1</a>. See <a href="http://www.w3.org/WAI/GL/2016/WD-UNDERSTANDING-WCAG20-20160719/keyboard-operation-keyboard-operable.html"> Understanding SC 2.1.1</a> for details.</p></div></li><li><a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#keyboard-operation-trapping">
				Success Criterion 2.1.2 (No Keyboard Trap)</a><ul><li><a href="http://www.w3.org/WAI/WCAG20/quickref/20160105/#keyboard-operation-trapping">
						How to Meet 2.1.2 (No Keyboard Trap)
					</a></li><li><a href="http://www.w3.org/WAI/GL/2016/WD-UNDERSTANDING-WCAG20-20160719/keyboard-operation-trapping.html">
						Understanding Success Criterion 2.1.2 (No Keyboard Trap)
					</a></li></ul></li><li><a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#keyboard-operation-all-funcs">
				Success Criterion 2.1.3 (Keyboard (No Exception))</a><ul><li><a href="http://www.w3.org/WAI/WCAG20/quickref/20160105/#keyboard-operation-all-funcs">
						How to Meet 2.1.3 (Keyboard (No Exception))
					</a></li><li><a href="http://www.w3.org/WAI/GL/2016/WD-UNDERSTANDING-WCAG20-20160719/keyboard-operation-all-funcs.html">
						Understanding Success Criterion 2.1.3 (Keyboard (No Exception))
					</a></li></ul><div class="note"><p class="prefix"><em>Note:</em> This technique must be combined with other techniques to meet <a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#keyboard-operation-all-funcs">SC 2.1.3</a>. See <a href="http://www.w3.org/WAI/GL/2016/WD-UNDERSTANDING-WCAG20-20160719/keyboard-operation-all-funcs.html"> Understanding SC 2.1.3</a> for details.</p></div></li></ul><div class="ua-issues"><h2 class="small-head" id="ua9.17.1"> User Agent and Assistive Technology Support Notes</h2><p>See <a href="/WAI/WCAG20/Techniques/ua-notes/flash#FLASH17">User Agent Support Notes for FLASH17</a>. Also see <a href="flash_notes.html">Flash Technology Notes</a>.</p></div><h2 id="FLASH17-description">Description</h2><div class="textbody"><p>The objective of this technique is to allow keyboard focus to move to and from Flash content embedded in a web page. In browsers other than Internet   Explorer, there is a problem related to keyboard accessibility of   embedded Flash content. The problem is that, while both the Flash   content and the HTML content around it may be keyboard accessible, many browsers do not support moving keyboard focus between the Flash content and HTML   content without using a mouse. Once focus is placed inside the Flash   content, a keyboard user will be trapped there. Similarly, when focus is   placed somewhere else on the HTML content (outside the Flash content), it   will be impossible to move focus into the content.  This technique is designed to let the Flash author address this issue and provide support for moving focus between the Flash content and the HTML content via the keyboard. </p><p>This issue has been around for a long time, and is related to the   way browsers implement embedded plug-ins. Until this problem is fixed,   it is up to the Flash developer to come up with a work around. This   technique is one of those workarounds. The approach behind this   technique is the following: </p><ul><li><p> Two 'neighbor' focusable HTML objects are identified for each   Flash content in the document (one before and one after the content). These   elements can be any HTML elements that are part of the web page's tab   order (such as links and form controls). </p></li><li><p> The Flash content object itself is added to the document tab   order as well, making it possible to tab into the content. </p></li><li><p> Inside the Flash content, the Flash Player maintains its own tab   order. Normally, when the start or end of the Flash tab order is   reached (when tabbing through the content), focus will wrap to the   beginning or end of the content's tab order, and it will not be possible   to (shift) tab out of it. With this technique however, when a 'focus   wrap' is detected focus will instead be moved to the neighboring element   in the HTML tab order (allowing a keyboard user to 'break out' of the   Flash tab order). </p></li></ul><p>When the SWFFocus class is imported into a Flash project, the   following will happen: </p><ul><li><p> A JavaScript &lt;script&gt; tag will be generated   and added to the HTML document containing the Flash content. This   JavaScript code will:</p><ul><li><p> Set a tabIndex value of "0" on the &lt;object&gt; element of   each Flash content found in the page. This causes the Flash objects to   become part of the tab order. </p></li><li><p> Optionally, create a hidden anchor element before and after   the Flash content, which is used by the SWFFocus class to move focus out   of the Flash content back into the HTML page. Alternatively, the developer   can specify existing focusable HTML elements as adjacent tab stops for   the Flash content. </p></li><li><p> Set event handlers for the Flash content object, so that when it   receives focus, the SWFFocus class is notified to manage the content's   internal tab order. </p></li></ul></li><li><p> The SWFFocus class monitors changes in focus within the Flash   content. When a focus wrap is detected in the content, a JavaScript function   will be called to instead move focus back to the neighboring HTML   content. </p></li></ul><p>As indicated above, there are two ways in which this technique can be   used: </p><ol class="enumar"><li><p>Letting the SWFFocus class generate neighboring focusable   elements in the HTML tab order for each Flash content (demonstrated in   example 1 below)</p><p>By default, the SWFFocus class will create a hidden link   element before and after an embedded Flash content. These elements are   needed as 'anchor' to move focus to when (shift) tabbing out of the   Flash content. This approach is the easiest to implement, as it does not   require any additional work by the developer. The downside is that the   hidden links will clutter the HTML tab order with meaningless elements   (although these elements are only used as tab stops when tabbing _out   of_ the Flash content, not when tabbing _into_ it). Because of this, it is   recommended to use the following approach instead:</p></li><li><p>Explicitly identifying focusable HTML elements that come before   and after the a Flash content in the HTML tab order (demonstrated in   example 2 below)</p><p>With this approach, the developer can use ID values to   identify the elements that come before and after the Flash content in the   HTML tab order. This is done by setting special class names on the Flash   content's &lt;object&gt; element. This is the preferred   approach, as it does not cause an unnecessary cluttering of the tab   order. However, it does require more work and awareness by the developer   (who has to manually set ID values). Also, in some scenarios there   simply may not be a next or previous focusable element for a Flash   content.</p></li></ol></div><h2 class="small-head" id="FLASH17-examples">Examples</h2><p>The two examples below are shown in the <a href="/WAI/WCAG20/Techniques/working-examples/FLASH17/keyboard_trap_fix_custom_as3.html" class="ex-ref">working example of Preventing a keyboard trap in Flash content</a>. The example html file has two Flash contents embedded in it. The first Flash content is embedded with the approach described in example 1. The second example is embedded with the approach described in example 2. The <a href="/WAI/WCAG20/Techniques/working-examples/FLASH17/keyboard_trap_fix_custom_as3.zip" class="ex-ref">source of Preventing a keyboard trap in Flash content</a> is available. The source zip file contains the SWFFocus class.</p><div class="note"><p class="prefix"><em>Note: </em>To run the example from a local drive (as opposed to running it from a web server), the local directory needs to be added to Flash Player's security settings. </p></div><h3 class="small-head" id="FLASH17-ex1">Example 1: Using automatically generated links</h3><div class="example"><div class="textbody"><p>In this example, the SWFFocus class is used without explicitly   identifying focusable HTML elements. This will cause SWFFocus to   dynamically insert hidden links before and after the Flash content. </p><h4 id="FLASH17-subhead-19">Loading the Flash Content</h4><p>The Flash object in this example is added using <a href="https://github.com/swfobject/swfobject">SWFObject's dynamic publishing method</a>, which means   that the object tag is created dynamically by JavaScript in a way that   the browser supports. While this is the recommended approach, it is not a   requirement for using this technique. The SWFFocus class will also work   when the object tag is hardcoded into the HTML document. </p><p>The sample code below shows how to load the content dynamically   with SWFObject. </p><h4 id="FLASH17-subhead-20">HTML and Javascript Code Sample for Example 1 </h4></div><div class="code"><p><strong>Example Code:</strong></p><pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head&gt;
    &lt;title&gt;Keyboard Trap Fix Example&lt;/title&gt;
    &lt;meta content="text/html; charset=utf-8" http-equiv="Content-Type"/&gt;
    &lt;script src="swfobject_2_1.js" type="text/javascript"/&gt;
    &lt;script type="text/javascript"&gt;
      var flashvars = {};
      var params = {};
      params.scale = "noscale";
      var attributes = {};
      attributes.id = "FlashSample1SWF";
      attributes.name = "FlashSample1SWF";
      swfobject.embedSWF("keyboard_trap_fix_custom_as3.swf", "flashSample1", \
          "150", "200", "9.0.0", "expressInstall.swf", flashvars, params, attributes);
&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;The following Flash content automatically generates invisible
      links before and after the flash content, allowing keyboard focus
      to move out of the Flash content.&lt;/p&gt;
    &lt;div id="flashSample1"&gt;
      &lt;a href="http://www.adobe.com/go/getflashplayer"&gt;
        &lt;img alt="Get Adobe Flash player"
          src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif"
        /&gt;
      &lt;/a&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre></div><div class="textbody"><h4 id="FLASH17-subhead-21">Importing and Initializing the SWFFocus class in Flash</h4><p>The SWFFocus class needs to be added to a Flash or Flex project's source   path. The easiest way to achieve this is to import the SWFFocus.swc into Library path for your project or to copy the   com/swffocus/SWFFocus.as file (including the nested directory structure)   to the project's root directory. </p><p>When the SWFFocus class is added to the content's source path, it   needs to be initialized with the following code: </p></div><div class="code"><p><strong>Example Code:</strong></p><pre><code>import com.adobe.swffocus.SWFFocus;
SWFFocus.init(stage);</code></pre></div><div class="textbody"><p>The code for the class itself can be found in the source files.</p></div></div><h3 class="small-head" id="FLASH17-ex2">Example 2: Explicitly identifying existing focusable html element</h3><div class="example"><div class="textbody"><p>For a large part, this technique is the same as example 1 : </p><ul><li><p> The dynamic loading approach by SWFObject is used to load the   Flash content </p></li><li><p> The SWFFocus class needs to be added to the content's sourcepath   and initialized in the Flash content </p></li></ul><p>For more details about these steps, see example 1. </p><p>In this case however, special class names are added to the Flash   content object. These class names indicate the ID values of the elements   previous and next of the content in the HTML tab order. The class names   are: </p><ul><li><p> 'swfPref-&lt;previous ID&gt;', where '&lt;previous element&gt;'   should be the ID value of the previous element in the tab order. </p></li><li><p> 'swfNext-&lt;next ID&gt;', where '&lt;next element&gt;' should   be the ID value of the next element in the tab order. </p></li></ul><p>For example, the HTML code could look like this (notice the added   class names on the object tag): </p></div><div class="code"><p><strong>Example Code:</strong></p><pre><code>&lt;a href="http://www.lipsum.com/" id="focus1"&gt;test 1&lt;/a&gt;
&lt;object class="swfPrev-focus1 swfNext-focus2"
  data="keyboard_trap_fix_as3.swf" tabindex="0"
  type="application/x-shockwave-flash"/&gt;
&lt;a href="http://www.lipsum.com/" id="focus2"&gt;test 2&lt;/a&gt;</code></pre></div><div class="textbody"><p>Since this example uses SWFObject's dynamic loading, the class names   will have to be specified as attribute when SWFObject is initialized.   This is demonstrated in the code example below. </p><h4 id="FLASH17-subhead-22">HTML and Javascript Code Sample for Example 2 </h4></div><div class="code"><p><strong>Example Code:</strong></p><pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head&gt;
    &lt;title&gt;Keyboard Trap Fix Example &lt;/title&gt;
    &lt;meta content="text/html; charset=utf-8" http-equiv="Content-Type"/&gt;
    &lt;script src="swfobject_2_1.js" type="text/javascript"/&gt;

    &lt;script type="text/javascript"&gt;
      var flashvars = {};
      var params = {};
      params.scale = "noscale";
      var attributes = {};
      attributes.id = "FlashSample2SWF";
      attributes.name = "FlashSample2SWF";
      attributes["class"] = "swfPrev-focus1 swfNext-focus2";
      swfobject.embedSWF("keyboard_trap_fix_as3.swf", "flashSample1", "150", 
        "200", "9.0.0", "expressInstall.swf", flashvars, params, attributes);
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;a href="http://www.lipsum.com/" id="focus1"&gt;lorem&lt;/a&gt;
    &lt;p&gt;The following Flash content uses existing links in the document
      to move focus to when (shift) tabbing out of the Flash content.
      The existing links are defined by placing special classnames on
      the Flash object.&lt;/p&gt;
    &lt;div id="flashSample2"&gt;
      &lt;a href="http://www.adobe.com/go/getflashplayer"&gt;
        &lt;img alt="Get Adobe Flash player"
          src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif"
        /&gt;
      &lt;/a&gt;
    &lt;/div&gt;
    &lt;a href="http://www.lipsum.com/"&gt;lorem&lt;/a&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre></div><div class="textbody"><p>Note: this example assumes that the focusable HTML elements exist and   have an ID value at the time SWFObject is called to insert the Flash   content. However, in some situations it is also possible that these   elements do not yet exist when the Flash content is created, or that the   elements will be deleted dynamically at a later point. If this happens,   it is possible to reassign ID values for previous and next focusable   elements. To do this, call the SWFsetFocusIds() method on the Flash   content object, like so: </p></div><div class="code"><p><strong>Example Code:</strong></p><pre><code>var o = document.getElementById("FlashSample1SWF");
o.SWFsetFocusIds('prevId', 'nextId');</code></pre></div><div class="textbody"><p>From that point on the updated IDs will be used to move focus to when   tabbing out of the Flash content. </p></div></div><h2 id="FLASH17-resources">Resources</h2><div class="textbody"><p>Resources are for information purposes only, no endorsement implied.</p><ul><li><p>
									         <a href="/WAI/WCAG20/Techniques/working-examples/FLASH17/keyboard_trap_fix_custom_as3.zip" class="ex-ref">Example source containing the SWFFocus class</a>
								       </p></li><li><p>
									         <a href="http://www.iheni.com/flash-and-keyboard-access-across-browsers/">Flash and keyboard access across browsers</a> by Henny Swan</p></li></ul></div><h2 id="FLASH17-tests">Tests</h2><div class="textbody"><h3 class="small-head" id="FLASH17-procedure">Procedure</h3><p>For a Flash content on a web page: </p><ol class="enumar"><li><p> If possible, confirm that the source of the Flash content imports   and initializes the SWFFocus class </p></li><li><p> Press the tab key to move through tabbable items on the page </p></li><li><p> Confirm that it is possible to tab into the Flash content </p></li><li><p> Continue tabbing and confirm that it is possible to tab out of   the flash content </p></li></ol><h3 class="small-head" id="FLASH17-results">Expected Results</h3><ul><li><p> Checks 3 and 4 are true </p></li></ul><p>If this is a sufficient technique for a success criterion, failing this test procedure does not necessarily mean that the success criterion has not been satisfied in some other way, only that this technique has not been successfully implemented and can not be used to claim conformance.</p></div><h2 class="small-head" id="FLASH17-info">Technique Information</h2><p>The main component used in this technique is an external ActionScript class called "SWFFocus". This class was created by <a href="http://www.majordan.net/">Michael Jordan</a> (inspired by the previous work of <a href="http://www.sonokids.org/home/index.php">John Norgaard of Sonokids</a>,), and later modified by Hans Hillen from <a href="https://www.paciellogroup.com/">The Paciello Group</a> and again by Michael Jordan to address browser compatibility further. </p><!-- BOTTOM NAVIGATION BAR --><ul id="navigationbottom"><li><strong><a href="#top">Top</a></strong></li><li><strong><a href="Overview.html#contents" title="Table of Contents">Contents</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">Intro</abbr></a></strong></li><li><a title="FLASH16: Making actions keyboard accessible by using the click event on standard components" href="FLASH16.html"><strong>Previous: </strong>
        Technique FLASH16</a></li><li><a title="FLASH18: Providing a control to turn off sounds that play automatically in Flash" href="FLASH18.html"><strong>Next: </strong>
        Technique FLASH18</a></li></ul><div class="footer"><p class="copyright">This Web page is part of <a href="Overview.html">Techniques and Failures for Web Content Accessibility Guidelines 2.0</a> (see the <a href="http://www.w3.org/WAI/GL/WCAG20-TECHS/FLASH17.html">latest version of this document</a>). The entire document is also available as a <a href="complete.html">single HTML file</a>. See the <a href="http://www.w3.org/WAI/intro/wcag20">The WCAG 2.0 Documents</a> for an explanation of how this document fits in with other Web Content Accessibility Guidelines (WCAG) 2.0 documents. To send public comments, please follow the <a href="http://www.w3.org/WAI/WCAG20/comments/">Instructions for Commenting on WCAG 2.0 Documents</a>.
 </p><p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p></div></body></html>